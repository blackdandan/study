# Java集合使用的排序方法

## TimSort (默认排序算法)

```ascii
+---------------------+
|      TimSort        |
+---------------------+
| 归并排序 + 插入排序  |
| 优化后的混合排序算法 |
+---------------------+
```

- **使用场景**: Collections.sort()和Arrays.sort()的默认算法
- **发展历史**:
  - 由Tim Peters于2002年为Python开发
  - Java 7开始引入作为默认排序算法
- **核心思想**:
  - 将数组分成多个称为"run"的小段
  - 对短run使用插入排序(长度<32)
  - 使用归并排序合并这些run
- **优化技术**:
  - 自适应选择run长度
  - 使用二分查找确定插入位置
  - 智能合并策略减少比较次数
- **特点**:
  - 稳定排序(相等元素不改变相对位置)
  - 时间复杂度: 
    - 最优: O(n)
    - 平均: O(n log n)
    - 最差: O(n log n)
  - 空间复杂度: O(n)
  - 对小规模数据(minRun长度默认32)使用插入排序
  - 对大规模数据使用优化的归并排序
- **优势**:
  - 对部分有序数组效率极高
  - 实际性能优于传统归并排序
  - 适合处理现实世界中的数据(通常部分有序)

## 二分插入排序 (Binary Insertion Sort)

```ascii
+---------------------+
|  二分插入排序        |
+---------------------+
| 查找使用二分查找      |
| 插入使用顺序移动      |
+---------------------+
```

- **使用场景**: 小规模数据或部分有序数据
- **特点**:
  - 时间复杂度: O(n²)
  - 空间复杂度: O(1)
  - 稳定排序

## 双轴快速排序 (Dual-Pivot QuickSort)

```ascii
+---------------------+
| 双轴快速排序         |
+---------------------+
| 选取两个基准值        |
| 将数组分为三部分      |
+---------------------+
```

- **使用场景**: Arrays.sort()对基本类型数组的排序
- **特点**:
  - 时间复杂度: O(n log n) 平均情况
  - 空间复杂度: O(log n)
  - 不稳定排序
  - 比传统快速排序更快

## 算法选择策略

```ascii
+---------------------+
|   算法选择流程       |
+---------------------+
|       数据量         |
|         ↓            |
| 小量 → 插入排序       |
| 大量 → TimSort       |
| 基本类型 → 双轴快排   |
+---------------------+
